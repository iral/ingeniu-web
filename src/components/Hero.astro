<section class="hero reveal">
    <div class="container">
        <div class="cmd-line mono">> SYSTEM_READY</div>
        <h1 id="scramble-text" data-value="FUTURE-PROOF ENGINEERING">
            FUTURE-PROOF ENGINEERING
        </h1>
        <p class="hero-desc">
            Arquitectura de Software de Alto Calibre. Diseñamos sistemas
            distribuidos, automatizamos flujos críticos y desplegamos ingeniería
            de élite en tu organización.
        </p>
        <div class="btn-group">
            <a href="#capabilities" class="btn btn-primary"
                >Nuestras Soluciones</a
            >
            <a href="#automation" class="btn btn-outline mono"
                >Ver Automatización</a
            >
        </div>
    </div>
</section>

<script>
    const h1 = document.getElementById("scramble-text");
    if (h1) {
        const phrases = [
            "FUTURE-PROOF ENGINEERING",
            "DISTRIBUTED SYSTEMS MASTERY",
            "ELITE SOFTWARE ARCHITECTURE",
            "ZERO-TECHNICAL DEBT",
            "AUTONOMOUS INFRASTRUCTURE",
        ];
        const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_<>[]{}";
        let phraseIndex = 0;
        let animationInterval: any;

        const scramble = () => {
            let iteration = 0;
            // @ts-ignore
            const originalText = h1.dataset.value;
            clearInterval(animationInterval);

            animationInterval = setInterval(() => {
                // @ts-ignore
                h1.innerText = originalText
                    .split("")
                    .map((letter, index) => {
                        if (index < iteration) return originalText[index];
                        return letters[
                            Math.floor(Math.random() * letters.length)
                        ];
                    })
                    .join("");

                if (iteration >= originalText.length)
                    clearInterval(animationInterval);
                iteration += 1 / 2;
            }, 30);
        };

        scramble();
        setInterval(() => {
            phraseIndex = (phraseIndex + 1) % phrases.length;
            // @ts-ignore
            h1.dataset.value = phrases[phraseIndex];
            scramble();
        }, 4500);
    }
</script>

<style>
    .hero {
        padding: 150px 0 100px;
        text-align: center;
    }
    .cmd-line {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        background: #111;
        border: 1px solid var(--border);
        padding: 8px 20px;
        border-radius: 100px;
        font-size: 0.85rem;
        color: var(--accent);
        margin-bottom: 30px;
    }
    h1#scramble-text {
        font-size: clamp(2.5rem, 5vw, 4.5rem);
        line-height: 1.1;
        font-weight: 800;
        letter-spacing: -0.04em;
        margin-bottom: 24px;
        min-height: 2.2em;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-left: auto;
        margin-right: auto;
        width: 100%;
        font-family: var(--font-code);
    }
    .hero-desc {
        max-width: 680px;
        margin: 0 auto 40px;
        color: var(--text-muted);
        font-size: 1.2rem;
    }
    .btn-group {
        display: flex;
        gap: 16px;
        justify-content: center;
        flex-wrap: wrap;
    }
    @media (max-width: 768px) {
        .hero {
            padding-top: 150px;
        }
        h1#scramble-text {
            font-size: 2.2rem;
            min-height: 3.5em;
        }
    }
</style>
